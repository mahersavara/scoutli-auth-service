# --- Datasource ---
quarkus.datasource.db-kind=postgresql
# These env vars are injected by Kubernetes Secret
quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL}
quarkus.datasource.username=${QUARKUS_DATASOURCE_USERNAME}
quarkus.datasource.password=${QUARKUS_DATASOURCE_PASSWORD}

# Dev mode configuration (for local development)
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/scoutli?currentSchema=auth
%dev.quarkus.datasource.username=scoutli
%dev.quarkus.datasource.password=scoutli
%dev.quarkus.hibernate-orm.database.default-schema=auth

# --- Hibernate & Flyway ---
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.schemas=auth

# --- HTTP ---
quarkus.http.port=8080

# --- Kafka Configuration ---
# Production: Use environment variable
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

# Dev mode override
%dev.kafka.bootstrap.servers=localhost:9092